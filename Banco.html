<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banco</title>
</head>
<body>
    <script>
		var saldo = 100.5; //Float
        function boas_vindas() {
	    var user = prompt("Insira seu nome aqui:");
	    alert(`Olá, ${user}! Seja bem-vinde!`);
	    inicio();
        }

        function validar_senha() {
	    var senha = 3589;
	    var validacao = parseInt(prompt("Insira sua senha aqui:"));

	    if (validacao < senha || validacao > senha) {
	    alert("Senha errada, tente novamente.")
		inicio();
	    }
        }

        function inicio() {

        var escolha = parseInt(prompt('Selecione uma opção:\n 1.) Saldo\n 2.) Extrato\n 3.) Saque\n 4.) Depósito\n 5.) Transferência\n 6.) Sair'));

        switch (escolha) {
        case 1:
         ver_saldo();
        break;
         case 2:
         ver_extrato();
        break;
        case 3:
         fazer_saque();
        break;
        case 4:
         fazer_deposito();
        break;
        case 5:
         fazer_transferencia();
        break;
        case 6:
         sair();
        break;
        default:
        erro();
        }
        }

        function erro() {
        alert('Por favor, informe um número entre 1 e 6');
        inicio();
        }

        function ver_saldo() {
        validar_senha();
        alert('Seu saldo atual é: ' + saldo);
        inicio();
        }

        function saldo_posfunc() {
        alert('Seu saldo atual é: ' + saldo);
        inicio();
        }

        function ver_extrato() {
        validar_senha();
        alert(extrato);

        inicio();
        }

        function fazer_saque() {
        validar_senha();

        var saque = parseFloat(prompt('Qual o saque?'));
        if (isNaN(saque) || saque === '' || saque <= 0) {
        alert('Operação não autorizada! Por favor, insira um valor válido.');
        fazer_saque();
        } else {
        saldo -= saque;
        extrato.push(`\nFoi sacado ${saque} reais`);

        saldo_posfunc();
        }
        }

        function fazer_deposito() {
        var deposito = parseFloat(prompt('Qual o depósito?'));
        // Not a Number
        if (isNaN(deposito) || deposito === '' || deposito <= 0) {
        alert('Operação não autorizada! Por favor, insira um valor válido.');
        fazer_deposito();
        } else {
        saldo += deposito;
        extrato.push(`\nFoi depositado ${deposito} reais`);

        saldo_posfunc();
        }  
        }

        function fazer_transferencia() {
        validar_senha();

        var conta = parseInt(prompt('Insira o número da conta aqui:'));
        var transferencia = parseFloat(prompt('Insira a quantia para transferir:'))

        if (isNaN(transferencia) || transferencia === '' || transferencia <= 0 || transferencia > saldo) {
        alert('Operação não autorizada! Por favor, insira um valor válido.');
        fazer_transferencia();
        } else {
        saldo -= transferencia;
        extrato.push(`\nFoi transferido ${transferencia} reais para a conta (${conta})`);

        saldo_posfunc();
        }
        }

        function sair() {
        var confirma = confirm('Você deseja sair?');
        if (confirma) {
        alert(`Foi um prazer em tê-lo conosco!`)
        window.close();
        } else {
        inicio();
        }
        }

        

	</script>
</body>
</html>